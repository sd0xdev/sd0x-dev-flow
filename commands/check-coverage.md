---
description: ç¶œåˆè©•ä¼° Unit / Integration / E2E ä¸‰å±¤æ¸¬è©¦è¦†è“‹ï¼Œæ‰¾å‡ºç¼ºå£ä¸¦çµ¦å‡ºè£œå¼·å»ºè­°ã€‚
argument-hint: <docs-path>
allowed-tools: Read, Grep, Glob, Bash(ls:*), Bash(find:*), Bash(wc:*)
skills: test-review
---

## Context

- ä½ ç¾åœ¨æ˜¯ `coverage-analyst` agentã€‚
- ç›®æ¨™ï¼šæ ¹æ“šåŠŸèƒ½æ–‡ä»¶ï¼Œ**ç¶œåˆè©•ä¼° Unit / Integration / E2E ä¸‰å±¤æ¸¬è©¦**è¦†è“‹æƒ…æ³ï¼Œè­˜åˆ¥ç¼ºå£ä¸¦çµ¦å‡ºå¯è¡Œå‹•å»ºè­°ã€‚

## Task

### Step 1: è®€å–åŠŸèƒ½æ–‡ä»¶

```bash
# è®€å–æŒ‡å®šçš„åŠŸèƒ½æ–‡ä»¶
cat $ARGUMENTS/*.md 2>/dev/null || cat $ARGUMENTS.md 2>/dev/null || echo "è«‹ç¢ºèªæ–‡ä»¶è·¯å¾‘"
```

å¾åŠŸèƒ½æ–‡ä»¶ä¸­æå–ï¼š

- åŠŸèƒ½åç¨±èˆ‡ç›®æ¨™
- æ¶‰åŠçš„ Service / Provider / Entity
- æ ¸å¿ƒæµç¨‹èˆ‡é‚Šç•Œæ¢ä»¶

### Step 2: è­˜åˆ¥ç›¸é—œæºç¢¼

æ ¹æ“šåŠŸèƒ½æ–‡ä»¶å…§å®¹ï¼Œæœå°‹ç›¸é—œæºç¢¼ï¼š

```bash
# æœå°‹ç›¸é—œ Service
ls src/service/ | grep -i "<keyword>"

# æœå°‹ç›¸é—œ Provider
ls src/provider/ | grep -i "<keyword>"

# æœå°‹ç›¸é—œ Entity
ls src/entity/ | grep -i "<keyword>"
```

å»ºç«‹æºç¢¼æ¸…å–®ï¼š
| æ¨¡çµ„é¡å‹ | æª”æ¡ˆè·¯å¾‘ | æ ¸å¿ƒåŠŸèƒ½ |

### Step 3: å°æ‡‰æ¸¬è©¦æª”æ¡ˆ

æª¢æŸ¥æ¯å€‹æºç¢¼æª”æ¡ˆæ˜¯å¦æœ‰å°æ‡‰æ¸¬è©¦ï¼š

```bash
# Unit tests
find test/unit -name "*.test.ts" | xargs grep -l "<ServiceName>" 2>/dev/null

# Integration tests
find test/integration -name "*.test.ts" | xargs grep -l "<ServiceName>" 2>/dev/null
```

### Step 4: åˆ†æè¦†è“‹ç¼ºå£

å°æ¯å€‹æºç¢¼æª”æ¡ˆï¼š

1. **è®€å–æºç¢¼**ï¼šè­˜åˆ¥ public methodsã€é‡è¦åˆ†æ”¯ã€éŒ¯èª¤è™•ç†
2. **è®€å–æ¸¬è©¦**ï¼šè­˜åˆ¥å·²è¦†è“‹çš„ cases
3. **æ¯”å°ç¼ºå£**ï¼š
   - å“ªäº› methods æ²’æœ‰æ¸¬è©¦ï¼Ÿ
   - å“ªäº›åˆ†æ”¯æ²’æœ‰è¦†è“‹ï¼Ÿ
   - å“ªäº›éŒ¯èª¤æƒ…å¢ƒæ²’æœ‰æ¸¬è©¦ï¼Ÿ

### Step 5: åˆ†é¡èˆ‡å»ºè­°

æ ¹æ“šç¼ºå£åš´é‡ç¨‹åº¦åˆ†é¡ï¼š

- ğŸ”´ Criticalï¼šæ ¸å¿ƒé‚è¼¯ã€è³‡æ–™å¯«å…¥ã€é‡‘é¡è¨ˆç®—
- ğŸŸ  Majorï¼šé‡è¦åˆ†æ”¯ã€éŒ¯èª¤è™•ç†
- ğŸŸ¡ Minorï¼šEdge caseã€è¼”åŠ©åŠŸèƒ½
- âšª Nice-to-haveï¼šæ—¥èªŒã€æ ¼å¼åŒ–

## Output

```markdown
# æ¸¬è©¦è¦†è“‹ç‡åˆ†æå ±å‘Š

## åŠŸèƒ½æ¦‚è¦½

- åŠŸèƒ½åç¨±ï¼š<å¾æ–‡ä»¶æå–>
- æ–‡ä»¶ä½ç½®ï¼š$ARGUMENTS
- ç›¸é—œæ¨¡çµ„ï¼š<åˆ—å‡ºæ¶‰åŠçš„ Service/Provider/Entity>

## è¦†è“‹ç¾æ³

| æ¨¡çµ„ | æºç¢¼ä½ç½® | æ¸¬è©¦ä½ç½® | è¦†è“‹ç‹€æ…‹ |
| ---- | -------- | -------- | -------- |
| ...  | src/...  | test/... | âœ…/âš ï¸/âŒ |

## è¦†è“‹ç¼ºå£

### ğŸ”´ Critical

1. **[ç¼ºå£æè¿°]**
   - ä½ç½®ï¼š`<file:function>`
   - åŸå› ï¼š<ç‚ºä½•é‡è¦>
   - å»ºè­°æ¸¬è©¦ï¼š<æ¸¬è©¦æ¡ˆä¾‹æè¿°>

### ğŸŸ  Major

ï¼ˆå¦‚æœ‰ï¼‰

### ğŸŸ¡ Minor

ï¼ˆå¦‚æœ‰ï¼‰

## å»ºè­°æ–°å¢æ¸¬è©¦

| å„ªå…ˆç´š | æ¸¬è©¦é¡å‹    | æ¸¬è©¦æ¡ˆä¾‹ | ç›®æ¨™æª”æ¡ˆ             |
| ------ | ----------- | -------- | -------------------- |
| P0     | Unit        | ...      | test/unit/...        |
| P1     | Integration | ...      | test/integration/... |

## è¦†è“‹ç‡æ‘˜è¦

| æŒ‡æ¨™       | ç‹€æ…‹     |
| ---------- | -------- |
| åŠŸèƒ½è¦†è“‹   | X/Y (Z%) |
| Happy path | âœ…/âŒ    |
| Error path | âœ…/âŒ    |
| Edge cases | âœ…/âŒ    |

## ä¸‹ä¸€æ­¥

1. <æœ€å„ªå…ˆè¦è£œçš„æ¸¬è©¦>
2. <æ¬¡å„ªå…ˆ>
```

## ä½¿ç”¨ç¯„ä¾‹

```bash
/check-coverage docs/features/auth/login-flow
/check-coverage docs/features/auth
```
